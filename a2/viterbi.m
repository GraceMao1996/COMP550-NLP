pi=[0.3453  0.1441  0.4005  0.1101];
A = [0.1480    0.4908    0.2134    0.1478;
    0.0866    0.2402    0.4624    0.2108;
    0.0975    0.5819    0.2077    0.1129;
    0.2174    0.2199    0.3051    0.2576
];
B = [0.4906    0.1939    0.0552    0.0693    0.0865    0.1045;
    0.3627    0.0946    0.2226    0.1957    0.0786    0.0458;
    0.0762    0.7087    0.0361    0.0487    0.0693    0.0610;
    0.1604    0.2113    0.0908    0.1069    0.3010    0.1297
];
O = [1 2 6];
d = zeros(4,3);
for i=(1:4)
    d(i,1) = pi(i)*B(i,O(1));
end
for t=(2:3)
    for j = (1:4)
        temp = 0;
        for i = (1:4)
            if d(i,t-1)*A(i,j)*B(j,O(t)) > temp
            temp = d(i,t-1).*A(i,j).*B(j,O(t));
            d(j,t) = temp;
            end
            
        end
    end
end
p = 0;
for i = (1:4)
    if d(i,3) > p
        p = d(i,3);
    end
end

disp(d);
disp(p);
format rat;